<!DOCTYPE html>
<html>
<head>
  <title>Audio Call</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>body { margin:0; }</style>
</head>
<body>
<div id="jitsi"></div>
<script>
function getQueryParam(name) {
  let url = new URL(window.location.href);
  return url.searchParams.get(name);
}
let room = getQueryParam("room") || "general";
let uniqueRoom = "OpenChat_" + room + "_" + Date.now(); // Unique room per call
let user = localStorage.getItem("user") || "Guest";
const domain = "meet.jit.si";
const options = {
    roomName: uniqueRoom,
    width: "100%",
    height: 600,
    parentNode: document.getElementById("jitsi"),
    userInfo: { displayName: user },
    configOverwrite: { startWithVideoMuted: true }
};
const script = document.createElement("script");
script.src = "https://meet.jit.si/external_api.js";
script.onload = () => { new JitsiMeetExternalAPI(domain, options); };
document.body.appendChild(script);
</script>
</body>
</html>
